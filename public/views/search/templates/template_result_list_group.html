<ul class="list-group">
    <li class="list-group-item" ng-repeat="result in model.results">
        <div><b>{{result.title}}</b></div>
        <div><i>{{result.author}}</i></div>
        <div ng-repeat="line in result.lines | limitTo: model.maxLines track by $index">{{line}}</div>
        <div ng-if="result.lines.length > model.maxLines">...</div>
        <div>{{result.lines.length}}</div>
        <a ng-if="model.maxLines" href="#!/search/{{result.author}}/{{result.title}}">See full poem</a>
        <br/>
        <a ng-if="!model.suppressAuthorLink" href="#!/search/{{result.author}}">See more poems by this author</a>
        <br/>
        <div ng-show="model.showFavoritesFlag && result.favoriteFlag">
            <i class="glyphicon glyphicon-heart"></i>
            <span>Favorited</span>
            <br/>
            <a ng-show="model.showFavoritesFlag && result.favoriteFlag"
               class="alert-danger"
               ng-click="model.unFavoritePoem(result.favoriteId)">
                Remove from favorites
            </a>
        </div>
        <br/>
        <a ng-show="model.showFavoritesFlag && !result.favoriteFlag" ng-click="model.favoritePoem(result)">
            Add to Favorites
        </a>
    </li>
</ul>